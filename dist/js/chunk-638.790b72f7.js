"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[638],{9769:function(t,e,n){function o(t){return/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/.test(t)}function s(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function r(){return Math.random().toString(36).split(".")[1]}n.d(e,{Mn:function(){return o},Jh:function(){return s},Ox:function(){return r}}),n(16396)},23638:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[n("span",[t._v("登录")]),n("i",{staticClass:"el-icon-video-play"})])],1)],1),n("pre-loader",{attrs:{isLoading:t.isLoading}})],1)};o._withStripped=!0;var s=n(59312),r=n(86115),i=n(9769),a=n(14206),u=n.n(a);function l(t){return t}function c(t){return t.data}var p=new(function(){function t(){this.timeout=3e5,this.baseURL="https://api.mabangerp.com",console.log("------init HttpService --------"),this.axiosInstance=u().create({timeout:this.timeout,baseURL:this.baseURL}),this.axiosInstance.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",this.addInterceptors()}return t.prototype.request=function(t,e,n,o){var r=(0,s.pi)({method:t,url:e},o);return"get"===t.toLowerCase()?r.params=n:r.data=n,this.axiosInstance.request(r)},t.prototype.addInterceptors=function(){this.axiosInstance.interceptors.request.use(l,(function(t){console.log("请求拦截器error: ",t)})),this.axiosInstance.interceptors.response.use(c,(function(t){console.log("响应拦截器error: ",t)}))},t}()),h=function(){function t(){}return t.login="/sso/api/v1/login",t}();var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoading=!1,e.userName="张三",e.phone="17521345099",e.password="",e.dateRange=null,e.notUse=1,e}return(0,s.ZT)(e,t),e.prototype.created=function(){var t=this.getTitle();console.log(t)},e.prototype.mounted=function(){var t,e=this.say("你好， ts");console.log("login.ts",e),(null===(t=this.dateRange)||void 0===t?void 0:t.length)||(console.log("---dateRange---"),this.notUse=2)},e.prototype.submitForm=function(){return(0,s.mG)(this,void 0,Promise,(function(){var t;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return this.userName.trim()?(0,i.Mn)(this.phone)?(this.isLoading=!0,[4,this.login()]):(this.$message.error("手机号错误！"),this.isLoading=!1,[2]):(this.$message.error("请输入用户名"),[2]);case 1:return t=e.sent(),this.isLoading=!1,t?this.goHome():this.$message.error("登录失败，请重试"),[2]}}))}))},e.prototype.say=function(t){return"msg= ".concat(t)},e.prototype.login=function(){return(0,s.mG)(this,void 0,Promise,(function(){var t;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,(n={username:this.userName,password:this.password},p.request("post",h.login,n))];case 1:return t=e.sent(),console.log(t),[2,200===t.code]}var n}))}))},e.prototype.goHome=function(){this.$router.push({path:"/home",query:{userName:this.userName,phone:this.phone}})},(0,s.gn)([(0,r.tB)()],e.prototype,"getTitle",void 0),(0,s.gn)([r.wA],e)}(r.w3),m=d,f=(0,n(40810).Z)(m,o,[],!1,null,"a49090ce",null);f.options.__file="src/views/login/login.vue";var g=f.exports}}]);